<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spark ‚Äî Date nights that actually happen</title>
    <meta name="description" content="The app that helps couples go on more intentional date nights. Personalized ideas, easy scheduling, and a habit that sticks.">
    <meta property="og:title" content="Spark ‚Äî Date nights that actually happen">
    <meta property="og:description" content="The app that helps couples plan thoughtful dates‚Äîwithout the decision fatigue.">
    <meta property="og:type" content="website">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,300;0,9..144,400;0,9..144,500;0,9..144,600;1,9..144,400&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <style>
        :root {
            --color-cream: #FDF8F3;
            --color-terracotta: #C85A3B;
            --color-terracotta-dark: #A84832;
            --color-terracotta-light: #E8A090;
            --color-sage: #7A9E7E;
            --color-sage-light: #B8D4BB;
            --color-charcoal: #2C2C2C;
            --color-warm-gray: #6B6560;
            --color-light-gray: #E8E4DF;
            --color-error: #D64545;
            --font-display: 'Fraunces', Georgia, serif;
            --font-body: 'DM Sans', -apple-system, sans-serif;
            --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
            --ease-out-back: cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: var(--font-body);
            background-color: var(--color-cream);
            color: var(--color-charcoal);
            line-height: 1.6;
            overflow-x: hidden;
        }
        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            opacity: 0.03;
            z-index: 1000;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
        }
        .nav {
            position: fixed;
            top: 0; left: 0; right: 0;
            padding: 1.5rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            background: linear-gradient(to bottom, var(--color-cream) 0%, transparent 100%);
        }
        .logo {
            font-family: var(--font-display);
            font-size: 1.5rem;
            font-weight: 500;
            color: var(--color-charcoal);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .logo-icon {
            width: 32px; height: 32px;
            background: var(--color-terracotta);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .logo-icon svg { width: 18px; height: 18px; stroke: white; fill: none; }
        .nav-cta {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--color-terracotta);
            text-decoration: none;
            padding: 0.625rem 1.25rem;
            border: 1.5px solid var(--color-terracotta);
            border-radius: 100px;
            transition: all 0.3s var(--ease-out-expo);
        }
        .nav-cta:hover { background: var(--color-terracotta); color: white; }
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 8rem 2rem 4rem;
            position: relative;
        }
        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--color-sage-light);
            color: var(--color-charcoal);
            padding: 0.5rem 1rem;
            border-radius: 100px;
            font-size: 0.875rem;
            font-weight: 500;
            margin-bottom: 2rem;
            animation: fadeInUp 0.8s var(--ease-out-expo) both;
        }
        .hero-badge::before { content: 'üìç'; }
        .hero-title {
            font-family: var(--font-display);
            font-size: clamp(2.5rem, 8vw, 5rem);
            font-weight: 400;
            line-height: 1.1;
            max-width: 900px;
            margin-bottom: 1.5rem;
            animation: fadeInUp 0.8s var(--ease-out-expo) 0.1s both;
        }
        .hero-title em { font-style: italic; color: var(--color-terracotta); }
        .hero-subtitle {
            font-size: 1.25rem;
            color: var(--color-warm-gray);
            max-width: 540px;
            margin-bottom: 3rem;
            animation: fadeInUp 0.8s var(--ease-out-expo) 0.2s both;
        }
        .signup-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            width: 100%;
            max-width: 440px;
            animation: fadeInUp 0.8s var(--ease-out-expo) 0.3s both;
        }
        .input-group { display: flex; flex-direction: column; gap: 0.375rem; }
        .input-label {
            font-size: 0.8125rem;
            font-weight: 500;
            color: var(--color-charcoal);
            margin-left: 0.25rem;
        }
        .input-label .optional { font-weight: 400; color: var(--color-warm-gray); }
        .form-input {
            width: 100%;
            padding: 1rem 1.25rem;
            font-family: var(--font-body);
            font-size: 1rem;
            border: 2px solid var(--color-light-gray);
            border-radius: 12px;
            background: white;
            transition: all 0.3s var(--ease-out-expo);
        }
        .form-input:focus {
            outline: none;
            border-color: var(--color-terracotta);
            box-shadow: 0 0 0 4px rgba(200, 90, 59, 0.15);
        }
        .form-input::placeholder { color: var(--color-warm-gray); }
        .partner-note {
            font-size: 0.8125rem;
            color: var(--color-warm-gray);
            text-align: center;
        }
        .partner-note .heart { color: var(--color-terracotta); }
        .form-button {
            padding: 1rem 2rem;
            font-family: var(--font-body);
            font-size: 1rem;
            font-weight: 600;
            color: white;
            background: var(--color-terracotta);
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s var(--ease-out-expo);
            position: relative;
        }
        .form-button:hover:not(:disabled) {
            background: var(--color-terracotta-dark);
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(200, 90, 59, 0.3);
        }
        .form-button:disabled { opacity: 0.7; cursor: not-allowed; }
        .form-button.loading { color: transparent; }
        .form-button.loading::after {
            content: '';
            position: absolute;
            width: 20px; height: 20px;
            top: 50%; left: 50%;
            margin: -10px 0 0 -10px;
            border: 2px solid rgba(255,255,255,0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }
        .form-note { font-size: 0.875rem; color: var(--color-warm-gray); text-align: center; }
        .form-error {
            font-size: 0.875rem;
            color: var(--color-error);
            text-align: center;
            display: none;
        }
        .form-error.visible { display: block; }
        .social-proof {
            margin-top: 3rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
            animation: fadeInUp 0.8s var(--ease-out-expo) 0.4s both;
        }
        .avatar-stack { display: flex; }
        .avatar {
            width: 40px; height: 40px;
            border-radius: 50%;
            border: 3px solid var(--color-cream);
            margin-left: -12px;
            background: var(--color-sage);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
        }
        .avatar:first-child { margin-left: 0; }
        .social-proof-text { font-size: 0.9375rem; color: var(--color-warm-gray); }
        .social-proof-text strong { color: var(--color-charcoal); }
        .hero-decoration { position: absolute; pointer-events: none; opacity: 0.6; }
        .decoration-1 {
            top: 15%; left: 8%;
            width: 120px; height: 120px;
            border: 2px solid var(--color-terracotta-light);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }
        .decoration-2 {
            bottom: 20%; right: 10%;
            width: 80px; height: 80px;
            background: var(--color-sage-light);
            border-radius: 50%;
            animation: float 8s ease-in-out infinite reverse;
        }
        .decoration-3 { top: 30%; right: 15%; font-size: 2rem; animation: float 5s ease-in-out infinite; }
        .how-it-works { padding: 6rem 2rem; background: white; }
        .section-header { text-align: center; margin-bottom: 4rem; }
        .section-eyebrow {
            font-size: 0.875rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--color-terracotta);
            margin-bottom: 1rem;
        }
        .section-title { font-family: var(--font-display); font-size: clamp(2rem, 5vw, 3rem); font-weight: 400; }
        .steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 3rem;
            max-width: 1000px;
            margin: 0 auto;
        }
        .step { text-align: center; padding: 2rem; }
        .step-icon {
            width: 80px; height: 80px;
            margin: 0 auto 1.5rem;
            background: var(--color-cream);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            transition: transform 0.3s var(--ease-out-back);
        }
        .step:hover .step-icon { transform: scale(1.1) rotate(-3deg); }
        .step-number { font-family: var(--font-display); font-size: 0.875rem; color: var(--color-terracotta); margin-bottom: 0.5rem; }
        .step-title { font-family: var(--font-display); font-size: 1.25rem; font-weight: 500; margin-bottom: 0.75rem; }
        .step-description { color: var(--color-warm-gray); font-size: 0.9375rem; }
        .value-props { padding: 6rem 2rem; background: var(--color-charcoal); color: white; }
        .value-props .section-eyebrow { color: var(--color-terracotta-light); }
        .value-props .section-title { color: white; }
        .props-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            max-width: 1100px;
            margin: 0 auto;
        }
        .prop-card {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 16px;
            padding: 2rem;
            transition: all 0.3s var(--ease-out-expo);
        }
        .prop-card:hover { background: rgba(255,255,255,0.08); transform: translateY(-4px); }
        .prop-icon { font-size: 1.5rem; margin-bottom: 1rem; }
        .prop-title { font-family: var(--font-display); font-size: 1.125rem; font-weight: 500; margin-bottom: 0.5rem; }
        .prop-description { color: rgba(255,255,255,0.7); font-size: 0.9375rem; }
        .quote-section { padding: 6rem 2rem; background: var(--color-cream); text-align: center; }
        .quote {
            font-family: var(--font-display);
            font-size: clamp(1.5rem, 4vw, 2.25rem);
            font-style: italic;
            font-weight: 300;
            max-width: 800px;
            margin: 0 auto 2rem;
            line-height: 1.4;
        }
        .quote-author { color: var(--color-warm-gray); font-size: 1rem; }
        .quote-author strong { color: var(--color-charcoal); }
        .seattle-section { padding: 6rem 2rem; background: linear-gradient(135deg, var(--color-sage-light) 0%, var(--color-cream) 100%); }
        .seattle-content {
            max-width: 900px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }
        .seattle-text h2 { font-family: var(--font-display); font-size: clamp(1.75rem, 4vw, 2.5rem); font-weight: 400; margin-bottom: 1.5rem; }
        .seattle-text p { color: var(--color-warm-gray); margin-bottom: 1rem; font-size: 1.0625rem; }
        .seattle-ideas { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
        .idea-tag {
            background: white;
            padding: 0.875rem 1rem;
            border-radius: 12px;
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            transition: transform 0.3s var(--ease-out-back);
        }
        .idea-tag:hover { transform: translateY(-2px) rotate(-1deg); }
        .final-cta { padding: 8rem 2rem; background: white; text-align: center; }
        .final-cta .section-title { margin-bottom: 1rem; }
        .final-cta .section-subtitle { color: var(--color-warm-gray); font-size: 1.125rem; max-width: 500px; margin: 0 auto 3rem; }
        .final-cta .signup-form { margin: 0 auto; }
        .footer { padding: 3rem 2rem; background: var(--color-charcoal); color: rgba(255,255,255,0.6); text-align: center; }
        .footer-logo { font-family: var(--font-display); font-size: 1.25rem; color: white; margin-bottom: 1rem; }
        .footer-links { display: flex; justify-content: center; gap: 2rem; margin-bottom: 2rem; }
        .footer-links a { color: rgba(255,255,255,0.6); text-decoration: none; font-size: 0.875rem; transition: color 0.2s; }
        .footer-links a:hover { color: white; }
        .footer-copyright { font-size: 0.8125rem; }
        .form-success {
            display: none;
            text-align: center;
            padding: 2rem;
            background: var(--color-sage-light);
            border-radius: 16px;
            animation: fadeInUp 0.5s var(--ease-out-expo);
        }
        .form-success.active { display: block; }
        .form-success h3 { font-family: var(--font-display); font-size: 1.5rem; margin-bottom: 0.5rem; }
        .form-success .partner-sent { margin-top: 1rem; padding-top: 1rem; border-top: 1px solid rgba(0,0,0,0.1); font-size: 0.9375rem; }
        .signup-form.hidden { display: none; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
        @keyframes spin { to { transform: rotate(360deg); } }
        @media (max-width: 768px) {
            .nav { padding: 1rem; }
            .hero { padding: 6rem 1.5rem 3rem; }
            .decoration-1, .decoration-2, .decoration-3 { display: none; }
            .seattle-content { grid-template-columns: 1fr; gap: 2rem; }
            .seattle-ideas { grid-template-columns: 1fr; }
            .footer-links { flex-direction: column; gap: 1rem; }
        }
    </style>
</head>
<body>
    <nav class="nav">
        <a href="#" class="logo">
            <div class="logo-icon">
                <svg viewBox="0 0 24 24" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
            </div>
            Spark
        </a>
        <a href="#signup" class="nav-cta">Join Waitlist</a>
    </nav>

    <section class="hero">
        <div class="hero-decoration decoration-1"></div>
        <div class="hero-decoration decoration-2"></div>
        <div class="hero-decoration decoration-3">‚ú®</div>
        <span class="hero-badge">Launching in Seattle</span>
        <h1 class="hero-title">Date nights that <em>actually happen</em></h1>
        <p class="hero-subtitle">The app that helps couples plan thoughtful dates‚Äîwithout the "what do you want to do?" loop. Personalized ideas, easy scheduling, a habit that sticks.</p>
        
        <form class="signup-form" id="hero-form">
            <div class="input-group">
                <label class="input-label" for="hero-email">Your email</label>
                <input type="email" id="hero-email" class="form-input" name="email" placeholder="you@example.com" required>
            </div>
            <div class="input-group">
                <label class="input-label" for="hero-partner">Partner's email <span class="optional">(optional)</span></label>
                <input type="email" id="hero-partner" class="form-input" name="partner_email" placeholder="partner@example.com">
            </div>
            <p class="partner-note"><span class="heart">‚ô•</span> We'll send them an invite when we launch</p>
            <button type="submit" class="form-button">Get Early Access</button>
            <p class="form-error" id="hero-error"></p>
            <p class="form-note">Free to join. We'll notify you when we launch.</p>
        </form>
        
        <div class="form-success" id="hero-success">
            <h3>You're on the list! üéâ</h3>
            <p>We'll be in touch soon with early access.</p>
            <p class="partner-sent" id="hero-partner-sent" style="display:none">We'll also invite your partner when we launch.</p>
        </div>
        
        <div class="social-proof">
            <div class="avatar-stack">
                <div class="avatar">üë©</div>
                <div class="avatar">üë®</div>
                <div class="avatar">üë©‚Äçü¶∞</div>
                <div class="avatar">üßî</div>
                <div class="avatar">üë©‚Äçü¶±</div>
            </div>
            <p class="social-proof-text">Join <strong id="waitlist-count">200+</strong> couples on the waitlist</p>
        </div>
    </section>

    <section class="how-it-works">
        <div class="section-header">
            <p class="section-eyebrow">How It Works</p>
            <h2 class="section-title">Three minutes to your next great date</h2>
        </div>
        <div class="steps">
            <div class="step">
                <div class="step-icon">üéØ</div>
                <p class="step-number">01</p>
                <h3 class="step-title">Tell us what you love</h3>
                <p class="step-description">Both partners take a quick quiz. We learn your vibes, budget, and what makes a date feel special.</p>
            </div>
            <div class="step">
                <div class="step-icon">üí°</div>
                <p class="step-number">02</p>
                <h3 class="step-title">Get personalized ideas</h3>
                <p class="step-description">AI-powered suggestions tailored to you both‚Äîwith insider tips that make each date better.</p>
            </div>
            <div class="step">
                <div class="step-icon">üìÖ</div>
                <p class="step-number">03</p>
                <h3 class="step-title">Schedule & show up</h3>
                <p class="step-description">Lock in the date together. After, a quick reflection helps us learn‚Äîand prompts the next one.</p>
            </div>
        </div>
    </section>

    <section class="value-props">
        <div class="section-header">
            <p class="section-eyebrow">Why Spark</p>
            <h2 class="section-title">Built for how couples actually work</h2>
        </div>
        <div class="props-grid">
            <div class="prop-card">
                <div class="prop-icon">üë´</div>
                <h3 class="prop-title">Both partners, together</h3>
                <p class="prop-description">No more one person doing all the planning. Both of you weigh in, both of you confirm.</p>
            </div>
            <div class="prop-card">
                <div class="prop-icon">üß†</div>
                <h3 class="prop-title">It learns what works</h3>
                <p class="prop-description">Quick post-date reflections help Spark get smarter. Better suggestions every time.</p>
            </div>
            <div class="prop-card">
                <div class="prop-icon">üîÑ</div>
                <h3 class="prop-title">Never lose momentum</h3>
                <p class="prop-description">Every date ends with the next one scheduled. The habit builds itself.</p>
            </div>
            <div class="prop-card">
                <div class="prop-icon">üìç</div>
                <h3 class="prop-title">Local expertise, built in</h3>
                <p class="prop-description">Real recommendations for Seattle‚Äînot generic lists. We've done the research.</p>
            </div>
            <div class="prop-card">
                <div class="prop-icon">üí∞</div>
                <h3 class="prop-title">Every budget welcome</h3>
                <p class="prop-description">From free park hangs to splurge-worthy anniversaries. Great dates don't require great expense.</p>
            </div>
            <div class="prop-card">
                <div class="prop-icon">üì∏</div>
                <h3 class="prop-title">Your story, captured</h3>
                <p class="prop-description">A growing history of your adventures together. Look back and remember the good ones.</p>
            </div>
        </div>
    </section>

    <section class="quote-section">
        <blockquote class="quote">"We know we should go on more dates. We just... don't. And then we feel bad about it."</blockquote>
        <p class="quote-author">‚Äî <strong>Sound familiar?</strong> You're not alone. That's exactly why we're building this.</p>
    </section>

    <section class="seattle-section">
        <div class="seattle-content">
            <div class="seattle-text">
                <h2>Made for Seattle couples</h2>
                <p>We're launching exclusively in Seattle because generic recommendations don't cut it. Every suggestion is curated for this city‚Äîfrom cozy Capitol Hill wine bars to Olympic Peninsula day trips.</p>
                <p>Rain or shine, weeknight or weekend, budget-friendly or splurge-worthy. We've got you covered.</p>
            </div>
            <div class="seattle-ideas">
                <div class="idea-tag">üå≤ Sunset at Discovery Park</div>
                <div class="idea-tag">‚òï Coffee crawl in Capitol Hill</div>
                <div class="idea-tag">üçú Hidden ramen spots</div>
                <div class="idea-tag">üé≠ Speakeasy cocktails</div>
                <div class="idea-tag">‚õµ Kayaking on Lake Union</div>
                <div class="idea-tag">üé® First Thursday gallery walk</div>
                <div class="idea-tag">üåßÔ∏è Rainy day museum dates</div>
                <div class="idea-tag">üç∑ Woodinville wine tasting</div>
            </div>
        </div>
    </section>

    <section class="final-cta" id="signup">
        <p class="section-eyebrow">Join the Waitlist</p>
        <h2 class="section-title">Ready to make date night easy?</h2>
        <p class="section-subtitle">We're launching soon. Get early access and help shape what we build.</p>
        <form class="signup-form" id="footer-form">
            <div class="input-group">
                <label class="input-label" for="footer-email">Your email</label>
                <input type="email" id="footer-email" class="form-input" name="email" placeholder="you@example.com" required>
            </div>
            <div class="input-group">
                <label class="input-label" for="footer-partner">Partner's email <span class="optional">(optional)</span></label>
                <input type="email" id="footer-partner" class="form-input" name="partner_email" placeholder="partner@example.com">
            </div>
            <p class="partner-note"><span class="heart">‚ô•</span> We'll send them an invite when we launch</p>
            <button type="submit" class="form-button">Get Early Access</button>
            <p class="form-error" id="footer-error"></p>
            <p class="form-note">We respect your privacy. Unsubscribe anytime.</p>
        </form>
        <div class="form-success" id="footer-success">
            <h3>You're on the list! üéâ</h3>
            <p>We'll be in touch soon with early access.</p>
            <p class="partner-sent" id="footer-partner-sent" style="display:none">We'll also invite your partner when we launch.</p>
        </div>
    </section>

    <footer class="footer">
        <p class="footer-logo">Spark</p>
        <div class="footer-links">
            <a href="#">About</a>
            <a href="#">Privacy</a>
            <a href="mailto:hello@sparkdates.com">Contact</a>
        </div>
        <p class="footer-copyright">¬© 2025 Spark. Made with ‚ù§Ô∏è in Seattle.</p>
    </footer>

    <script>
        // =====================================================
        // SUPABASE CONFIGURATION - REPLACE WITH YOUR CREDENTIALS
        // =====================================================
        const SUPABASE_URL = 'https://xctpxfqwhhcxfhqrrbpu.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhjdHB4ZnF3aGhjeGZocXJyYnB1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzMzE3MTAsImV4cCI6MjA4NTkwNzcxMH0.em1iC2-oUxQRHgBRYDai7ebs16rqvcOONOmH59uEwrU';
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
       

        // Form handling
        async function handleSubmit(e, formId) {
            e.preventDefault();
            const form = document.getElementById(formId);
            const btn = form.querySelector('.form-button');
            const errEl = document.getElementById(formId.replace('-form', '-error'));
            const successEl = document.getElementById(formId.replace('-form', '-success'));
            const partnerSentEl = document.getElementById(formId.replace('-form', '-partner-sent'));
            
            const email = form.querySelector('[name="email"]').value.trim();
            const partnerEmail = form.querySelector('[name="partner_email"]').value.trim();
            
            btn.classList.add('loading');
            btn.disabled = true;
            errEl.classList.remove('visible');
            
            try {
                const { data, error } = await supabase
                    .from('waitlist')
                    .insert([{
                        email,
                        partner_email: partnerEmail || null,
                        source: 'landing_page',
                        created_at: new Date().toISOString()
                    }])
                    .select();
                
                if (error) {
                    if (error.code === '23505') {
                        errEl.textContent = 'This email is already on the waitlist!';
                        errEl.classList.add('visible');
                        btn.classList.remove('loading');
                        btn.disabled = false;
                        return;
                    }
                    throw error;
                }
                
                // If partner email, create linked record (ignore if exists)
                if (partnerEmail) {
                    await supabase.from('waitlist').insert([{
                        email: partnerEmail,
                        partner_email: email,
                        source: 'partner_referral',
                        referred_by: data[0].id,
                        created_at: new Date().toISOString()
                    }]).catch(() => {});
                }
                
                form.classList.add('hidden');
                successEl.classList.add('active');
                if (partnerEmail) partnerSentEl.style.display = 'block';
                
            } catch (err) {
                console.error(err);
                errEl.textContent = 'Something went wrong. Please try again.';
                errEl.classList.add('visible');
                btn.classList.remove('loading');
                btn.disabled = false;
            }
        }

        document.getElementById('hero-form').addEventListener('submit', e => handleSubmit(e, 'hero-form'));
        document.getElementById('footer-form').addEventListener('submit', e => handleSubmit(e, 'footer-form'));

        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(a => {
            a.addEventListener('click', e => {
                e.preventDefault();
                document.querySelector(a.getAttribute('href'))?.scrollIntoView({ behavior: 'smooth' });
            });
        });

        // Scroll animations
        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.step, .prop-card, .idea-tag').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(20px)';
            el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(el);
        });
    </script>
</body>
</html>
